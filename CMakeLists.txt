cmake_minimum_required(VERSION 3.12)
project(esp8266_IoT CXX)

find_package(ArduinoEsp8266 REQUIRED COMPONENTS ESP8266WiFi PubSubClient)
link_libraries(${ArduinoEsp8266_LIBRARIES})

if (${CMAKE_BUILD_TYPE} STREQUAL Debug)
    add_definitions(-DLOGGER_SERIAL)
endif ()

add_subdirectory(IoT)
link_libraries(IoT)

add_esp8266_executable(untitled FLASH 512k untitled.cpp)
add_esp8266_executable(Colin FLASH 4M Colin.cpp)
add_esp8266_executable(Vorratskeller FLASH 4M Vorratskeller.cpp)